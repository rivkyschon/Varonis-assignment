jenkins:
  systemMessage: 'Jenkins configured with JCasC'
  securityRealm:
    local:
      allowsSignup: false
      users:
        - id: admin
          password: 1234 # Replace with your password
  authorizationStrategy:
    globalMatrix:
      permissions:
        - 'Overall/Administer:admin'
        - 'Overall/Read:authenticated'

  plugins:
    sites:
      - id: "default"
        url: "https://updates.jenkins.io/update-center.json"
    required:
      - id: "workflow-aggregator"
        version: "latest"
      - id: "git"
        version: "latest"

  jobs:
    - script: >
        pipelineJob('Varonis-assignment') {
          definition {
            cpsScm {
              scm {
                git {
                  remote {
                    url('https://github.com/rivkyschon/Varonis-assignment.git')
                  }
                  branches('*/main')
                }
              }
              scriptPath('jenkinsfile')
            }
          }
        }